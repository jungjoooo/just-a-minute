# Pupil Data Preprocessing and Feature Extraction

This repository contains the preprocessing and feature extraction pipeline used in our study.
The code cleans raw pupil-dilation time-series data and computes a set of features for statistical analysis and machine learning.

## 1. Files in this repository

| File                    | Description                                             |
|------------------------|---------------------------------------------------------|
| `sample.csv`           | An anonymized example of the raw input format.          |
| `data.csv`             | Full anonymized raw dataset used for ML analysis.       |
| `preprocessing.py`     | Cleans the raw data and produces `cleaned.csv`.         |
| `cleaned.csv`          | Output generated by the preprocessing script.           |
| `feature-extraction.py`| Extracts time-series features and produces `samples.csv`.|

## 2. How to run the pipeline

### Step 1 — Preprocessing

Run the following command to generate a cleaned version of the raw data:

```bash
python3 preprocessing.py
```

This will produce:

```
cleaned.csv
```

### Step 2 — Feature Extraction

Run the following command to compute pupil-dilation features:

```bash
python3 feature-extraction.py
```

This will produce:

```
samples.csv
```

## 3. Notes

- `sample.csv` demonstrates the required input format (one participant).
- `data.csv` contains the anonymized dataset used for the analyses in the manuscript.
- All participant identifiers have been anonymized.
- The preprocessing pipeline removes non-stimulus frames, detects outliers, and performs pchip interpolation.

## 4. Citation

If you use this code, please cite our paper:

> (Just a Minute: A Pupil-Based Machine Learning Approach to Depression Screening)
